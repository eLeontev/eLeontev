parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"VXXF":[function(require,module,exports) {
"use strict";var e,t,r;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.clockwise=-1]="clockwise",e[e["сСlockwise"]=1]="сСlockwise"}(e=exports.direction||(exports.direction={})),function(e){e.enemy="enemy",e.helper="helper"}(t=exports.entityTypes||(exports.entityTypes={})),function(e){e.enemy="enemy",e.exploder="exploder",e.counterIncreaser="counterIncreaser"}(r=exports.entityProperties||(exports.entityProperties={}));
},{}],"GXGn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRadians=function(e){return Math.PI/180*e};
},{}],"ZEfQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startAnglePosition=179,exports.minimumEnemyOffset=20,exports.maxEnemiesCount=10,exports.maxDelayToAddEnemyInTicks=360,exports.maxDelayInactionsInTicks=180,exports.changeDirectionTriesMessage="direction counter:",exports.countOfEnemiesMessage="count of entities:",exports.changeDirectionCounterIncrement=4,exports.loaderWidth=200,exports.loaderHeight=15,exports.verticalLoaderOffset=7,exports.loaderMinColor="00ff00",exports.loaderMaxColor="ff0000",exports.countOfChangeDirectionTriesMessageCoordintate={x:10,y:85},exports.countOfEnemiesMessagePositionCoordinate={x:10,y:40},exports.enemyStrokeStyleColor="red",exports.exploderStrokeStyleColor="black",exports.counterIncreaserStrokeStyleColor="green",exports.helperGeneratorChance=.1;
},{}],"lyTY":[function(require,module,exports) {
"use strict";var t;Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../model/game.model"),i=require("./constants"),o=((t={})[e.entityProperties.enemy]=i.enemyStrokeStyleColor,t[e.entityProperties.exploder]=i.exploderStrokeStyleColor,t[e.entityProperties.counterIncreaser]=i.counterIncreaserStrokeStyleColor,t),a=function(){function t(t,e,a,n,s,r){this.canvasCtx=t,this.radius=e,this.innerRadius=a,this.canvasSize=n,this.entityPropertyColors=o,this.defaultStartAngle=0,this.defaultLineWidth=1,this.pointerLineWidth=4,this.defaultLineJoin="round",this.defaultStrokeStyleColor="black",this.cleanUpBackgroundColor="white",this.enemyStrokeStyleColor=i.enemyStrokeStyleColor,this.pointerStyleColor="blue",this.defaultTextColor="black",this.defaultEndAngle=s(360);var l=r.x,h=r.y;this.middleXCoordinate=l,this.middleYCoordinate=h,this.initCanvas()}return t.prototype.drowStaticGameField=function(){var t=this;[this.radius,this.innerRadius].forEach(function(e){return t.drowCircle(e)})},t.prototype.drowEntity=function(t,e,i,o,a){void 0===o&&(o=this.enemyStrokeStyleColor),this.drowCircle(t,e,i,o,a)},t.prototype.canvasCleanUp=function(){this.canvasCtx.beginPath(),this.canvasCtx.fillStyle=this.cleanUpBackgroundColor,this.canvasCtx.fillRect(0,0,this.canvasSize,this.canvasSize)},t.prototype.drowEntities=function(t){var e=this;t.forEach(function(t){var i=t.xPosition,o=t.yPosition,a=t.enemyRadius,n=t.enetityProperty;return e.drowEntity(a,i,o,e.entityPropertyColors[n],e.entityPropertyColors[n])})},t.prototype.drowPointer=function(t,e){this.canvasCtx.beginPath(),this.setPathView(this.pointerStyleColor,this.pointerLineWidth,this.defaultLineJoin),this.canvasCtx.moveTo(this.middleXCoordinate,this.middleYCoordinate),this.canvasCtx.lineTo(t,e),this.canvasCtx.stroke()},t.prototype.drowText=function(t,e,i){var o=e.x,a=e.y;this.canvasCtx.font="25px Arial",this.canvasCtx.fillStyle=i||this.defaultTextColor,this.canvasCtx.fillText(t,o,a)},t.prototype.drowLoader=function(t,e){var o=t.x,a=t.y,n=e.width,s=e.color,r=a+i.verticalLoaderOffset;this.canvasCtx.beginPath(),this.canvasCtx.fillStyle=s,this.canvasCtx.fillRect(o,r,n,i.loaderHeight),this.canvasCtx.beginPath(),this.canvasCtx.strokeStyle=this.defaultStrokeStyleColor,this.canvasCtx.strokeRect(o,r,i.loaderWidth,i.loaderHeight)},t.prototype.drowCircle=function(t,e,i,o,a,n,s,r,l){void 0===e&&(e=this.middleXCoordinate),void 0===i&&(i=this.middleYCoordinate),void 0===o&&(o=this.defaultStrokeStyleColor),void 0===n&&(n=this.defaultLineWidth),void 0===s&&(s=this.defaultStartAngle),void 0===r&&(r=this.defaultEndAngle),void 0===l&&(l=this.defaultLineJoin),this.canvasCtx.beginPath(),this.setPathView(o,n,l,a),this.canvasCtx.arc(e,i,t,s,r),this.canvasCtx.stroke(),this.canvasCtx.fill()},t.prototype.initCanvas=function(){this.canvasCtx.canvas.width=this.canvasSize,this.canvasCtx.canvas.height=this.canvasSize,this.canvasCtx.canvas.style.backgroundColor=this.cleanUpBackgroundColor},t.prototype.setPathView=function(t,e,i,o){this.canvasCtx.strokeStyle=o?this.defaultStrokeStyleColor:t,this.canvasCtx.fillStyle=o||this.cleanUpBackgroundColor,this.canvasCtx.lineWidth=e,this.canvasCtx.lineJoin=i},t}();exports.CanvasRenderer=a;
},{"../model/game.model":"VXXF","./constants":"ZEfQ"}],"xMJR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./constants");exports.state={entities:[],tickCounter:0,countOfTicksWithoutEnemyDestory:0,changeDirectionCounter:5,angle:e.startAnglePosition};
},{"./constants":"ZEfQ"}],"oEyB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../constants"),t=function(r){return parseInt(r,16)},n=function(r){return r.toString(16)},o=function(r){return"#"+r.padStart(6,"0")},e=function(r,t){return r/t},i=function(r,t,n){return r*(n-t)+t},u=[t(r.loaderMinColor),t(r.loaderMaxColor)],a=u[0],s=u[1];exports.getLoaderDataBasedOnCurrentLoaderCounterPosition=function(t){var u=t.position,d=t.maxPosition,c=e(u,d),l=i(c,a,s);return{width:c*r.loaderWidth,color:o(n(l))}};
},{"../constants":"ZEfQ"}],"W8PT":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=1/0,o="[object Symbol]",r="object"==typeof t&&t&&t.Object===Object&&t,n="object"==typeof self&&self&&self.Object===Object&&self,c=r||n||Function("return this")(),u=Object.prototype,f=0,i=u.toString,l=c.Symbol,b=l?l.prototype:void 0,p=b?b.toString:void 0;function y(t){if("string"==typeof t)return t;if(s(t))return p?p.call(t):"";var o=t+"";return"0"==o&&1/t==-e?"-0":o}function j(t){return!!t&&"object"==typeof t}function s(t){return"symbol"==typeof t||j(t)&&i.call(t)==o}function a(t){return null==t?"":y(t)}function m(t){var e=++f;return a(t)+e}module.exports=m;
},{}],"pT8Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomIntegerInRange=function(e,r){return Math.floor(e+Math.random()*(r+1-e))};
},{}],"JE0s":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("lodash.uniqueid")),r=require("../../model/game.model"),n=require("../constants"),i=require("../../helpers/radiant-transformer"),o=require("../../helpers/randomizer");exports.getRandomHelperProperty=function(){return Math.random()>.5?r.entityProperties.counterIncreaser:r.entityProperties.exploder},exports.getEntityProperty=function(e){return e===r.entityTypes.enemy?r.entityProperties.enemy:exports.getRandomHelperProperty()},exports.createEntity=function(e,r,a,s,m){var u=Math.abs(e%360)+n.minimumEnemyOffset+360-n.minimumEnemyOffset,y=o.randomIntegerInRange(n.minimumEnemyOffset,u)%360,d=o.randomIntegerInRange(r,.9*a),p=o.randomIntegerInRange(.1*r,.4*r),l=s.x,f=s.y,g=i.getRadians(y),P=d*Math.sin(g)+l,c=d*Math.cos(g)+f,h=180*Math.atan(p/d)/Math.PI;return{xPosition:P,yPosition:c,enemyRadius:p,middlePointAngle:y,enemyAngleRange:[y-h,y+h],enemyId:t.default("enemy-id="),type:m,enetityProperty:exports.getEntityProperty(m)}};
},{"lodash.uniqueid":"W8PT","../../model/game.model":"VXXF","../constants":"ZEfQ","../../helpers/radiant-transformer":"GXGn","../../helpers/randomizer":"pT8Q"}],"VWYy":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../model/game.model"),t=require("../constants");exports.performExlporer=function(e){console.log("clean up"),e.entities=[]},exports.performCounterIncreaser=function(e){console.log("increment"),e.changeDirectionCounter=e.changeDirectionCounter+t.changeDirectionCounterIncrement},exports.performEnemyFunctionality=function(){};var n=((e={})[r.entityProperties.exploder]=exports.performExlporer,e[r.entityProperties.counterIncreaser]=exports.performCounterIncreaser,e[r.entityProperties.enemy]=exports.performEnemyFunctionality,e);exports.performHelperFunctionality=function(e,r){return e.forEach(function(e){var t=e.enetityProperty;return n[t](r)})};
},{"../../model/game.model":"VXXF","../constants":"ZEfQ"}],"Ztbj":[function(require,module,exports) {
"use strict";var t=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,r++)i[r]=o[a];return i};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../model/game.model"),n=require("../helpers/radiant-transformer"),i=require("./renderer"),r=require("./state"),o=require("./constants"),a=require("./calculation/rest-range.calculation"),c=require("./calculation/entity.calculation"),s=require("./calculation/helper-entity.calculation"),u=e.direction.clockwise,d=e.direction.сСlockwise,l=document.body.getClientRects(),f=l[0],y=f.width,m=f.height,g=y>m?m:y,h=g/2,C=.9*h,v=C/3,D={x:h,y:h},k=D.x,p=D.y,E=document.getElementById("canvas"),T=E.getContext("2d"),x=new i.CanvasRenderer(T,C,v,g,n.getRadians,D),w=u,I=function(t){document.addEventListener("click",t),document.addEventListener("keydown",t)},O=function(t){var e=n.getRadians(t),i=C*Math.sin(e)+k,r=C*Math.cos(e)+p;x.drowPointer(i,r)},q=function(t,e){return e===u?t<=0?360:t:t>=360?0:t},M=function(){var t=r.state.angle;O(r.state.angle),r.state.angle=q(t+w,w)},L=function(t){return!t.entities.find(function(t){return t.type===e.entityTypes.enemy})},P=function(t){return t.entities.length<o.maxEnemiesCount},A=function(t){return!t.changeDirectionCounter},R=function(e){return r.state.entities=t(r.state.entities,[e])},W=function(){return Math.random()>o.helperGeneratorChance?e.entityTypes.enemy:e.entityTypes.helper},b=function(t,e,n,i){t(e)&&R(c.createEntity(n,v,C,D,i))},_=function(t,e){b(L,r.state,t,e),x.drowEntities(r.state.entities)},B=function(t,e){b(P,r.state,t,e)},F=function(t,e,n,i,r){var o=t+" "+e,c=n?"red":null;x.drowText(o,i,c),x.drowLoader(i,a.getLoaderDataBasedOnCurrentLoaderCounterPosition(r))},G=function(t){F(o.changeDirectionTriesMessage,t.changeDirectionCounter,A(t),o.countOfChangeDirectionTriesMessageCoordintate,{position:t.countOfTicksWithoutEnemyDestory,maxPosition:o.maxDelayInactionsInTicks}),F(o.countOfEnemiesMessage,t.entities.length,!P(t),o.countOfEnemiesMessagePositionCoordinate,{position:t.tickCounter,maxPosition:o.maxDelayToAddEnemyInTicks})},j=function(t,e){r.state.tickCounter=r.state.tickCounter+1,r.state.tickCounter>=o.maxDelayToAddEnemyInTicks&&(r.state.tickCounter=0,B(t,e()))},H=function(){r.state.countOfTicksWithoutEnemyDestory=r.state.countOfTicksWithoutEnemyDestory+1},S=function(t){t&&(r.state.countOfTicksWithoutEnemyDestory=0)},U=function(t){r.state.changeDirectionCounter=r.state.changeDirectionCounter+t,r.state.changeDirectionCounter<0&&(r.state.changeDirectionCounter=0)},z=function(){r.state.countOfTicksWithoutEnemyDestory>o.maxDelayInactionsInTicks&&(S(!0),U(-1))},J=function(){setInterval(function(){x.canvasCleanUp(),x.drowStaticGameField(),j(r.state.angle,W),H(),z(),_(r.state.angle,e.entityTypes.enemy),M(),G(r.state)},10)},K=function(t){var e=r.state.changeDirectionCounter;!t&&0===e||U(t?1:-1)},N=function(){if(!r.state.entities.length)return!1;var t=r.state.angle,e=r.state.entities.filter(function(e){var n=e.enemyAngleRange,i=n[0],r=n[1],o=360===t?0:t;return o>i&&o<r}),n=e.map(function(t){return t.enemyId}),i=!1;return s.performHelperFunctionality(e,r.state),e.length&&(r.state.entities=r.state.entities.filter(function(t){return!n.some(function(e){return e===t.enemyId})}),i=!0),i},Q=function(){var t=N();(r.state.changeDirectionCounter||t)&&(w=w===u?d:u),S(t),K(t)},V=!1,X=function(t){var e=document.getElementById("button");e&&(e.addEventListener("keydown",function(t){return t.preventDefault()}),e.addEventListener("click",function(){V||(V=!0,t(),document.body.focus())}))};I(Q),X(J);
},{"../model/game.model":"VXXF","../helpers/radiant-transformer":"GXGn","./renderer":"lyTY","./state":"xMJR","./constants":"ZEfQ","./calculation/rest-range.calculation":"oEyB","./calculation/entity.calculation":"JE0s","./calculation/helper-entity.calculation":"VWYy"}],"QCba":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("./src/game/");
},{"./src/game/":"Ztbj"}]},{},["QCba"], null)
//# sourceMappingURL=game_touch.add92bb2.js.map